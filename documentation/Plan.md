# ***План автоматизации тестирования веб-сервиса по продаже тура в Марракеш.***

### **Введение**

***Цель создания плана*** - описание процесса автоматизации тестирования веб-сервиса.

***Виды тестирования*** - функциональное тестирование на компонентном уровне, тестирование методом черного ящика, тестирование удобства пользования.

## ***1. Перечень автоматизируемых сценариев:***
### ***Возможность покупки тура двумя способами:***

1. Оплата по дебетовой карте.
2. Оплата через кредит по данным карты.

### ***Карты, представленные для тестирования (файл data.json):***

- 4444 4444 4444 4441, status APPROVED
- 4444 4444 4444 4442, status DECLINED

### ***Позитивные сценарии:***
***Предусловия:***

Открыть в браузере страницу: http://localhost:8080/;

***1. Покупка тура и оплата по дебетовой карте со статусом APPROVED:***

***Шаги:***

1. Нажать на кнопку "Купить";
2. Ввести в поле "Номер карты" - ```"4444 4444 4444 4441"```;
3. Ввести в поле "Месяц" - любое число от 01 до 12;
4. Ввести в поле "Год" - последние две цифры года, например: 22;
5. Ввести в поле "Владелец" - валидные данные, например: Ivanov Ivan;
6. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
7. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Появилось всплывающее окно с уведомлением: "Успешно. Операция одобрена Банком."

***2. Покупка тура и оплата по дебетовой карте со статусом DECLINED:***

***Шаги:***

1. Нажать на кнопку "Купить";
2. Ввести в поле "Номер карты" - ```"4444 4444 4444 4442"```;
3. Ввести в поле "Месяц" - любое число от 01 до 12;
4. Ввести в поле "Год" - последние две цифры года, например: 22;
5. Ввести в поле "Владелец" - валидные данные, например: Petrov Petr;
6. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
7. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Появилось всплывающее окно с уведомлением: "Ошибка! Банк отказал в проведении операции."

***3. Покупка тура и оплата в кредит по данным карты со статусом APPROVED:***

***Шаги:***

1. Нажать на кнопку "Купить в кредит";
2. Ввести в поле "Номер карты" - ```"4444 4444 4444 4441"```;
3. Ввести в поле "Месяц" - любое число от 01 до 12;
4. Ввести в поле "Год" - последние две цифры года, например: 22;
5. Ввести в поле "Владелец" - валидные данные, например: Romanov Roman;
6. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
7. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Появилось всплывающее окно с уведомлением: "Успешно. Операция одобрена Банком."

***4. Покупка тура и оплата в кредит по данным карты со статусом DECLINED:***

***Шаги:***

1. Нажать на кнопку "Купить в кредит";
2. Ввести в поле "Номер карты" - ```"4444 4444 4444 4442"```;
3. Ввести в поле "Месяц" - любое число от 01 до 12;
4. Ввести в поле "Год" - последние две цифры года, например: 22;
5. Ввести в поле "Владелец" - валидные данные, например: Alekseev Aleksey;
6. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
7. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Появилось всплывающее окно с уведомлением: "Ошибка! Банк отказал в проведении операции."

### ***Негативные сценарии:***
Применяются для обоих способов оплаты тура (для оплаты по дебетовой карте и для выдачи кредита по данным карты).

***Предусловия:***

Открыть в браузере страницу: http://localhost:8080/;

Нажать на кнопку **"Купить"** - для оплаты по дебетовой карте;

или

Нажать на кнопку **"Купить в кредит"** - для выдачи кредита по данным карты;

***1. Отправка формы с невалидным номером карты:***

***Шаги:***

1. Ввести в поле "Номер карты" - невалидный номер, например:```"4444 4444 4444 4443"```;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - валидные данные, например: Ivanov Ivan;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Появилось всплывающее окно с уведомлением: "Ошибка! Банк отказал в проведении операции."

***2. Отправка формы с некорректным номером карты:***

***Шаги:***

1. Ввести в поле "Номер карты" - некорректный номер, например: номер `"4"` или ```"4444 4444 4444 444"```;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - валидные данные, например: Ivanov Ivan;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Номер карты" появилось сообщение об ошибке: "Неверный формат".

***3. Отправка формы с пустым полем "Номер карты":***

***Шаги:***

1. Поле "Номер карты" оставить пустым;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - валидные данные, например: Ivanov Ivan;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Номер карты" появилось сообщение об ошибке: "Неверный формат".

***4. Отправка формы с невалидным месяцем:***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - число `"1"`, число ```"00"``` или число ```"13"```;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - валидные данные, например: Ivanov Ivan;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Месяц" появилось сообщение об ошибке: "Неверно указан срок действия карты".

***5. Отправка формы с пустым полем "Месяц":***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Поле "Месяц" оставить пустым;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - валидные данные, например: Ivanov Ivan;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Месяц" появилось сообщение об ошибке: "Неверный формат".

***6.  Отправка формы с невалидным сроком года:***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: ```"20"``` или `"27"`;
4. Ввести в поле "Владелец" - валидные данные, например: Petrov Petr;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Год" появилось сообщение об ошибке: "Истёк срок действия карты" или "Неверно указан срок действия карты".

***7. Отправка формы с некорректным сроком года:***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - некорректный номер, например: ```"0"``` или `"00"`;
4. Ввести в поле "Владелец" - валидные данные, например: Petrov Petr;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Год" появилось сообщение об ошибке: "Неверно указан срок действия карты".

***8. Отправка формы с пустым полем "Год":***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Поле "Год" оставить пустым;
4. Ввести в поле "Владелец" - валидные данные, например: Petrov Petr;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Год" появилось сообщение об ошибке: "Неверный формат".

***9.  Отправка формы с данными владельца на кириллице:***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - данные на кириллице, например: `"Иванов Иван"`;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Владелец" появилось сообщение об ошибке: "Неверный формат".

***10. Отправка формы с указанием только фамилии или имени владельца на латинице:***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - одно слово на латинице, например: `"Ivanov"` или `"Ivan"`;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Владелец" появилось сообщение об ошибке: "Неверный формат".

***11. Отправка формы с некорректными данными владельца(одна буква):***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - одну букву, например: `"А"`;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Владелец" появилось сообщение об ошибке: "Неверный формат".

***12. Отправка формы с некорректными данными владельца(цифры или спецсимволы):***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - некорректные данные, например: цифры - `"246"` или спецсимволы - `"!"№;%:?*"`;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Владелец" появилось сообщение об ошибке: "Неверный формат".

***13. Отправка формы с пустым полем "Владелец":***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Поле "Владелец" оставить пустым;
5. Ввести в поле "CVC/CVV" - 3-х значный номер, например: 123;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "Владелец" появилось сообщение об ошибке: "Поле обязательно для заполнения".

***14. Отправка формы с некорректным значением "CVC/CVV":***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - валидные данные, например: Petrov Petr;
5. Ввести в поле "CVC/CVV" - некорректный номер, например: `"1"` или `"12"`;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "CVC/CVV" появилось сообщение об ошибке: "Неверный формат".

***15. Отправка формы с пустым полем "CVC/CVV":***

***Шаги:***

1. Ввести в поле "Номер карты" - 4444 4444 4444 4441;
2. Ввести в поле "Месяц" - любое число от 01 до 12;
3. Ввести в поле "Год" - последние две цифры года, например: 22;
4. Ввести в поле "Владелец" - валидные данные, например: Petrov Petr;
5. Поле "CVC/CVV" оставить пустым;
6. Нажать на кнопку "Продолжить".

***Ожидаемый результат:***

Под полем "CVC/CVV" появилось сообщение об ошибке: "Неверный формат".

## ***2. Перечень используемых инструментов с обоснованием выбора:***

***1. IntelliJ IDEA*** - интеллектуальная среда разработки. Умная и удобная среда разработки для Java с поддержкой всех последних технологий и фреймворков.

***2. Java JDK 11*** - популярный язык программирования для написания авто-тестов, имеет набор готового ПО для разработки и запуска приложений.

***3. Gradle*** - система автоматической сборки, построенная на принципах Apache Ant и Apache Maven, но предоставляющая DSL на языках Groovy и Kotlin вместо традиционной XML-образной формы представления конфигурации проекта.

***4. JUnit 5*** - тестовый фреймворк. Библиотека для модульного тестирования программного обеспечения на языке Java.

***5. Selenide*** - это библиотека для написания лаконичных и стабильных UI тестов с открытым исходным кодом.

***6. JavaFaker*** - библиотека для генерации случайных тестовых данных.

***7. Lombok*** - позволяет оптимизировать код автотестов, добавляет в Java новые «ключевые слова» и превращает аннотации в Java-код, уменьшая усилия на разработку и обеспечивая некоторую дополнительную функциональность.

***8. Rest Assured*** - java-библиотека для тестирования REST API, позволяет автоматизировать тестирование get и post запросов.

***9. Docker*** - это программное обеспечение, которое дает возможность на определенном участке памяти изолированно установить необходимую ОС (операционную систему), версию Java, настроить переменные окружения, установить различные зависимости и дать доступ только при определенных условиях (также это инструмент, позволяющий запускать мультиконтейнерные приложения, чтобы не устанавливать на компьютер необходимые для работы приложения Node.js и СУБД).

***10. Allure*** - фреймворк для создания отчетов о тестировании, для наглядного отображения прохождения тестов и ошибок.

***11. Git и GitHub*** - для хранения кода. Git достаточно прост и удобен для управления исходным кодом, очень распространенная система контроля версий, поэтому достаточно хорошо взаимодействует с различными ОС. GitHub специализированный веб-сервис с удобным интерфейсом, интегрирован с Git.

## ***3. Перечень и описание возможных рисков при автоматизации:***
- Возможность изменения структуры веб-сервиса.
- Возможность изменения CSS-селекторов веб-сервиса.
- Возможность изменения наименования тура.
- Возможность удаления с продаж тестируемого тура.
- Возможность изменения количества обязательных полей ввода данных.
- Возможность переименования, добавления или удаления кнопок.
- Возможность удаления одного из вариантов покупки тура.

## ***4. Интервальная оценка с учётом рисков (в часах):***

Для написания тестов и тестирования, подготовки отчетности необходимо 70 часов рабочего времени.

## ***5. План сдачи работ:***
- Планирование автоматизации тестирования до 03.12.2021 г.
- Настройка окружения, написание и отладка автотестов до 12.12.2021 г.
- Подготовка отчётных документов по итогам автоматизированного тестирования до 14.12.2021 г.
- Подготовка отчётных документов по итогам автоматизации до 15.12.2021 г.